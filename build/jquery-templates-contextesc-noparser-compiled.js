(function(){$.extAll=function(a,b){var c=arguments,f,l,n;for(f=1;f<c.length;++f)for(n in l=c[f])a[n]=l[n];return a};$.templatePlugins=[];$.templates={};$.template=function(a){return $.templates[a]};var r={2048:'"',4096:"'",6144:""};function s(){}s.prototype.toString=function(){return this.content};function u(){function a(a){this.content=a}var b=a.prototype=new s;b.constructor=a;b.contentKind=0;return a}var v=u(0),w=u(1),B=u(2);SanitizedHtml=v;SanitizedJsStrChars=w;SanitizedUri=B;function C(a){return a&&a.contentKind===0?a:a instanceof Array?a.map(C).join(""):a===void 0?"":D(a)}function E(a){return a&&a.contentKind===0?F(a.content):D(a)}
function G(a){return a&&a.contentKind===0?F(String(a.content).replace(H,"")):D(a)}function I(a){a&&a.contentKind===0?(a=String(a.content).replace(H,""),a=String(a),a=a.replace(J,K)):(a=String(a),a=a.replace(L,K));return a}function R(a){var a=String(a),a=!aa.test(a)?"zSafehtmlz":a,b,c=a.indexOf("=");return c>=0&&(b=a.charAt(a.length-1))!='"'&&b!="'"?a.substring(0,c+1)+'"'+a.substring(c+1)+'"':a}function ba(a){a=String(a);return a=!ca.test(a)?"zSafehtmlz":a}
function S(a){a&&a.contentKind===1?a=a.content:(a=String(a),a=a.replace(da,T));return a}function ea(a){var b;return a==null?" null ":(b=typeof a)=="boolean"||b=="number"?" "+a+" ":"'"+S(a)+"'"}function fa(a){a=String(a);return a=a.replace(ga,T)}var U=/['-)]/g;function V(a){return"%"+a.charCodeAt(0).toString(16)}function ha(a){if(a&&a.contentKind===2)return W(a);a=encodeURIComponent(a);return a.replace(U,V)}
function W(a){a=String(a);if(/[\0- "<>\\{}\x7f\x85\xa0\u2028\u2029\uff00-\uffff]|%(?![\da-f]{2})/i.test(a)){for(var a=a.split(/(%[\da-f]{2}|[#$&+,/:;=?@[\]])/i),b=a.length-1;b>=0;b-=2)a[b]=encodeURIComponent(a[b]);a=a.join("")}return a.replace(U,V)}function ia(a){a=String(a);return ja.test(a)?W(a):"#zSafehtmlz"}function ka(a){a=String(a);return a=a.replace(la,ma)}function na(a){a==null?a="":(a=String(a),a=!oa.test(a)?"zSafehtmlz":a);return a}var X={'"':"&quot;","&":"&amp;","<":"&lt;",">":"&gt;"};
function K(a){return X[a]||(X[a]="&#"+a.charCodeAt(0)+";")}var Y={"\t":"\\t","\n":"\\n","\u000c":"\\f","\r":"\\r","/":"\\/","\\":"\\\\"};function T(a){var b;if(!(b=Y[a])){b=a.charCodeAt(0).toString(16);var c=b.length<=2?"\\x00":"\\u0000";b=c.substring(0,c.length-b.length)+b;b=Y[a]=b}return b}var Z={};function ma(a){return Z[a]||(Z[a]="\\"+a.charCodeAt(0).toString(16)+" ")}
var pa=/[\0"&'<>]/g,qa=/[\0"'<>]/g,L=/[\0\t-\r "&'/<->`\x85\xa0\u2028\u2029-]/g,J=/[\0\t-\r "'/<->`\x85\xa0\u2028\u2029-]/g,da=/[\0\b-\r"&'/<->\\\x85\u2028\u2029]/g,ga=/[\0\b-\r"$&-/:<-?[-^{-}\x85\u2028\u2029]/g,la=/[\0\b-\r"&-*/:->@\\{}\x85\xa0\u2028\u2029]/g,oa=/^(?!-*(?:expression|(?:moz-)?binding))(?:[#.]?-?\w[\w-]*(?:-[_a-z][\w-]*)*-?|-?(?:\d+(?:\.\d*)?|\.\d)(?:[a-z]{1,2}|%)?|!important|)$/i,ja=/^(?:(?:https?|mailto):|[^#&/:?]*(?:[#/?]|$))/i,aa=/^(?!style|on|action|archive|background|cite|classid|codebase|data|dsync|href|longdesc|src|usemap)(?:[\w$:-]*|dir=(?:ltr|rtl))$/i,
ca=/^(?!script|style|title|textarea|xmp|no)[\w$:-]*$/i;function D(a){a=String(a);return a.replace(pa,K)}function F(a){a=String(a);return a.replace(qa,K)}var H=/<(?:!|\/?[a-z])(?:[^"'>]|"[^"]*"|'[^']*')*>/gi,ra=[C,E,G,I,ba,R,S,ea,fa,ka,na,ha,W,ia];C[0]=$.encode=$.extend(C,ra);var sa={"break":1,"case":1,"continue":1,"delete":1,"do":1,"else":1,"finally":1,"instanceof":1,"return":1,"throw":1,"try":1,"typeof":1};function ta(a){var b=a.length,c=a.charAt(b-1);switch(c){case "+":case "-":for(var f=b-1;f>0&&a.charAt(f-1)===c;)--f;a=b-f;return(a&1)===1;case ".":if(b===1)return 1;a=a.charAt(b-2);return!("0"<=a&&a<="9");case "/":return b===1;default:return/[#%&(*,:-?[^{-~]/.test(c)?1:(a=a.match(/[\w$]+$/))&&sa[a[0]]===1}}
(function(){function a(a){return a.indexOf("&")<0?a:a.replace(/&(?:#(?:(x[\da-f]+)|(\d+))|(lt|gt|amp|quot|apos));/gi,function(a,j,b,c){return j||b?String.fromCharCode(0+(j||b)):ua[c.toLowerCase()]})}function b(a){this.a=a}function c(a,g,e){var c=a.prototype=new b(/(?!)/);c.constructor=a;c.d=g;if(e)c.e=e}function f(a,g){this.a=a;this.h=g}function l(a,g){this.a=a;this.i=g}function n(a){this.a=a}function x(a){this.a=a}function M(a){this.a=a}function q(a,g){this.a=a;this.g=g}function h(a,g){this.a=a;
this.c=g}function y(a,g){this.a=a;this.c=g}function N(a){this.a=a}function O(a){this.a=a}function i(a){this.a=a}function z(a){this.a=a}function P(a){this.a=a}function Q(a){this.a=a}function t(a){this.a=a}function A(){this.next=this.b=0}function va(j,g){for(;j;){var e;var b=j,c=g&6144;e=b.length;c===0?e=-1:c===6144?e=(b=b.match(/[\s>]/))?b.index:e:(b=b.indexOf(r[c]),e=b>=0?b:e);if(e===-1)e=new A,e.f(j,g),j=j.substring(e.b),g=e.next;else{for(var b=j.length,b=e<b?e+r[g&6144].length:-1,c=a(j.substring(0,
e)),d=new A;c.length;)d.f(c,g),c=c.substring(d.b),g=d.next;if(b!==-1)j=j.substring(b),g=4|g&224;else{if(e!==j.length)throw Error();j=""}}}return g}var ua={m:"<",l:">",j:"&",n:'"',k:"'"};b.prototype.e=function(){return 1};c(f,function(){return this.h});c(l,function(){return 4|this.i});var wa={32:8208,64:9,224:0,160:1,96:1,128:1,192:1};c(n,function(a){a&=224;var b=wa[a];if(typeof b!=="number")throw Error(a);return b===1?b|a:b});c(x,function(a){return 4|a&224});var xa={action:1,archive:1,background:1,
cite:1,classid:1,codebase:1,data:1,dsync:1,href:1,longdesc:1,src:1,usemap:1};c(M,function(a,b){var e=b[1].toLowerCase(),e="on"===e.substring(0,2)?256:"style"===e?512:xa[e]===1?768:1024;return 5|a&224|e});c(q,function(a){var b=a&1792,e,c=0,d=0;switch(b){case 1024:e=8;break;case 256:e=16;c=8192;break;case 512:e=9;break;case 768:e=22;d=32768;break;default:throw Error(b)}return a=e|a&224|b|this.g|c|d});c(h,function(a){return a&-229408|this.c});c(y,function(a){return a&8160|this.c});c(N,function(a,b){switch(a&
24576){case 16384:return a&-24608|8208;case 8192:return a&-24608|21;default:throw Error("Ambiguous / could be a RegExp or division.  Please add parentheses before `"+b[0]+"`")}});c(O,function(a,b){return a&-24577|(ta(b[0])?8192:16384)});c(i,function(a){return a});var k=new i(/$/),o=new b(/[#?]|$/);o.d=function(a,b){var c=a&229376;c===32768&&(c=65536);if(c!==131072){var d=b[0];"?"===d&&c!==196608?c=98304:"#"===d&&(c=131072)}return a&-229377|c};c(z,function(){return 228},function(a){return(a&1792)===
0});var p=new z(/<\/script\b/i),m=new z(/<\/style\b/i),ya={96:"textarea",128:"title",160:"listing",192:"xmp"};c(P,function(){return 228},function(a,b){return b[1].toLowerCase()===ya[a&224]});c(Q,function(a,b){var c=b[1],c='"'===c?14:"'"===c?15:13;return a&-229408|c|32768});c(t,function(a){return a&-24608|16400});var d=[];d[0]=[new i(/^[^<]+/),new f(/<\!--/,7),new l(/<script(?=[\s/>]|$)/i,32),new l(/<style(?=[\s/>]|$)/i,64),new l(/<textarea(?=[\s/>]|$)/i,96),new l(/<title(?=[\s/>]|$)/i,128),new l(/<xmp(?=[\s/>]|$)/i,
192),new f(/<\/?/,2)];d[1]=[new P(/<\/(\w+)\b/),k];d[2]=[new f(/^[a-z]+/i,3),new f(/^(?=[\W\d_])/,0)];d[3]=[new i(/^[\d:a-z-]*(?:[^\W_]|$)/i),new l(/^(?=[\s/>])/,224)];d[4]=[new M(/^\s*([a-z][\w-]*)/i),new n(/^\s*\/?>/),new i(/^\s+$/)];d[5]=[new h(/^\s*=/,6),new x(/^/)];d[6]=[new q(/^\s*"/,2048),new q(/^\s*'/,4096),new q(/^(?=[^\s"'>])/,6144),new x(/^(?=>|\s+[\w-]+\s*=)/),new i(/^\s+/)];d[7]=[new f(/--\>/,0),k];d[8]=[k];d[9]=[new h(/\/\*/,10),new h(/"/,11),new h(/'/,12),new Q(/\burl\s*\(\s*(["']?)/i),
m,k];d[10]=[new h(/\*\//,9),m,k];d[11]=[new h(/"/,9),new i(/\\(?:\r\n?|[\n\f"])/),new f(/[\n\f\r]/,23),m,k];d[12]=[new h(/'/,9),new i(/\\(?:\r\n?|[\n\f'])/),new f(/[\n\f\r]/,23),m,k];d[13]=[new h(/[\s)\\]/,9),o,new h(/["']/,23),m];d[15]=[new h(/'/,9),o,new i(/\\(?:\r\n?|[\n\f'])/),new f(/[\n\f\r]/,23),m];d[14]=[new h(/"/,9),o,new i(/\\(?:\r\n?|[\n\f"])/),new f(/[\n\f\r]/,23),m];d[16]=[new h(/\/\*/,18),new h(/\/\//,17),new y(/"/,19),new y(/'/,20),new N(/\//),new O(/(?:[^\s"'/<\\]|<(?!\/script))+/i),
new i(/\s+/),p];d[18]=[new h(/\*\//,16),p,k];d[17]=[new h(/[\n\r\u2028\u2029]/,16),p,k];d[19]=[new t(/"/),p,new i(/^(?:[^\n\r"<\\\u2028\u2029]|\\(?:\r\n?|[^\r<]|<(?!\/script))|<(?!\/script))+/i)];d[20]=[new t(/'/),p,new i(/^(?:[^\n\r'<\\\u2028\u2029]|\\(?:\r\n?|[^\r<]|<(?!\/script))|<(?!\/script))+/i)];d[21]=[new t(/\//),p,new i(/^(?:[^\n\r/<[\\\u2028\u2029]|\\.|\\?<(?!\/script)|\[(?:[^\n\r<\\\]\u2028\u2029]|\\.)*|\\?<(?!\/script)])+/i)];d[22]=[o];A.prototype.f=function(a,b){if((b&31)===23)this.b=
a.length,this.next=b;else{var c=Infinity,f=-1,h,i,l=d[b&31],k,m,n,p,o,q=l.length;for(o=0;o<q;++o)if(k=l[o],m=a.match(k.a))n=m.index,n<c&&(p=n+m[0].length,k.e(b,m)&&(c=n,f=p,h=k,i=m));h?(this.next=h.d(b,i),this.b=f):(this.next=23,this.b=a.length);if(!this.b&&(this.next&31)===(b&31))throw Error(b)}};return va})()}())
