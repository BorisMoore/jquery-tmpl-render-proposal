(function(){var h=1,o=0;$.extAll=function(a){var b=arguments,c,f,l;for(c=1;c<b.length;++c)for(l in f=b[c])a[l]=f[l];return a};$.templatePlugins=[];$.templates={};$.template=function(a){return $.templates[a]};var s=3,t=4,w=5,y=8,z=9,A=16,C=22,D=23,E=31,F=224,aa=256,ba=512,ca=768,H=1792,da=0,I=6144,N=6144,ea=0,O=24576,ga=0,P=131072,Q=196608,S=229376,ha={2048:'"',4096:"'"};ha[I]="";var T=0,o=0,h=1,U=[];U[T]=h;U[1]=h;U[2]=h;U[3]=h;U[4]=h;U[5]=h;U[9]=h;U[11]=h;var V=[];V[0]=T;V[1]=1;V[2]=4;V[s]=4;V[t]=5;V[w]=5;V[7]=1;V[y]=2;V[z]=10;V[11]=9;V[12]=9;V[13]=12;V[14]=12;V[15]=12;V[A]=7;V[19]=6;V[20]=6;V[21]=8;V[C]=2;function ia(){}ia.prototype.toString=function(){return this.content};function ja(){function a(a){this.content=a}var b=a.prototype=new ia;b.constructor=a;b.contentKind=0;return a}var ka=ja(),la=ja(),ma=ja();SanitizedHtml=ka;SanitizedJsStrChars=la;SanitizedUri=ma;function W(a){return a&&a.contentKind===0?a:a instanceof Array?a.map(W).join(""):a===void 0?"":String(a).replace(na,Y)}function oa(a){return a&&a.contentKind===1?a.content:String(a).replace(pa,qa)}var ra=/['-)]/g;
function sa(a){return"%"+a.charCodeAt(0).toString(16)}function ta(a){a=String(a);if(/[\0- "<>\\{}\x7f\x85\xa0\u2028\u2029\uff00-\uffff]|%(?![\da-f]{2})/i.test(a)){for(var a=a.split(/(%[\da-f]{2}|[#$&+,/:;=?@[\]])/i),b=a.length-1;b>=0;b-=2)a[b]=encodeURIComponent(a[b]);a=a.join("")}return a.replace(ra,sa)}var ua={'"':"&quot;","&":"&amp;","<":"&lt;",">":"&gt;"};function Y(a){return ua[a]||(ua[a]="&#"+a.charCodeAt(0)+";")}var va={"\t":"\\t","\n":"\\n","\u000c":"\\f","\r":"\\r","/":"\\/","\\":"\\\\"};
function qa(a){var d;var b;if(!(b=va[a])){b=a.charCodeAt(0).toString(16);var c=b.length<=2?"\\x00":"\\u0000";d=va[a]=c.substring(0,c.length-b.length)+b,b=d}return b}var wa={};function xa(a){return wa[a]||(wa[a]="\\"+a.charCodeAt(0).toString(16)+" ")}
var na=/[\0"&'<>]/g,ya=/[\0"'<>]/g,Aa=/[\0\t-\r "&'/<->`\x85\xa0\u2028\u2029-]/g,Ba=/[\0\t-\r "'/<->`\x85\xa0\u2028\u2029-]/g,pa=/[\0\b-\r"&'/<->\\\x85\u2028\u2029]/g,Ca=/[\0\b-\r"$&-/:<-?[-^{-}\x85\u2028\u2029]/g,Da=/[\0\b-\r"&-*/:->@\\{}\x85\xa0\u2028\u2029]/g,Ea=/^(?!-*(?:expression|(?:moz-)?binding))(?:[#.]?-?\w[\w-]*(?:-[_a-z][\w-]*)*-?|-?(?:\d+(?:\.\d*)?|\.\d)(?:[a-z]{1,2}|%)?|!important|)$/i,Fa=/^(?:(?:https?|mailto):|[^#&/:?]*(?:[#/?]|$))/i,Ga=/^(?!style|on|action|archive|background|cite|classid|codebase|data|dsync|href|longdesc|src|usemap)(?:[\w$:-]*|dir=(?:ltr|rtl))$/i,
Ha=/^(?!script|style|title|textarea|xmp|no)[\w$:-]*$/i,Ia=/<(?:!|\/?[a-z])(?:[^"'>]|"[^"]*"|'[^']*')*>/gi,Z=[];Z[T]=W;Z[1]=function(a){return a&&a.contentKind===0?String(a.content).replace(ya,Y):String(a).replace(na,Y)};Z[2]=function(a){a&&a.contentKind===0?(a=String(a.content).replace(Ia,""),a=String(a).replace(ya,Y)):a=String(a).replace(na,Y);return a};Z[3]=function(a){a&&a.contentKind===0?(a=String(a.content).replace(Ia,""),a=String(a).replace(Ba,Y)):a=String(a).replace(Aa,Y);return a};
Z[4]=function(a){a=String(a);return!Ha.test(a)?"zSafehtmlz":a};Z[5]=function(a){var a=String(a),a=!Ga.test(a)?"zSafehtmlz":a,b,c=a.indexOf("=");return c>=0&&(b=a.charAt(a.length-1))!='"'&&b!="'"?a.substring(0,c+1)+'"'+a.substring(c+1)+'"':a};Z[6]=oa;Z[7]=function(a){var b;return a==null?" null ":(b=typeof a)=="boolean"||b=="number"?" "+a+" ":"'"+oa(a)+"'"};Z[8]=function(a){return String(a).replace(Ca,qa)};Z[9]=function(a){return String(a).replace(Da,xa)};
Z[10]=function(a){a==null?a="":(a=String(a),a=!Ea.test(a)?"zSafehtmlz":a);return a};Z[11]=function(a){return a&&a.contentKind===2?ta(a):encodeURIComponent(a).replace(ra,sa)};Z[12]=ta;Z[13]=function(a){return Fa.test(String(a))?ta(a):"#zSafehtmlz"};W[T]=$.encode=$.extend(W,Z);var Ja={"break":h,"case":h,"continue":h,"delete":h,"do":h,"else":h,"finally":h,"instanceof":h,"return":h,"throw":h,"try":h,"typeof":h};function Ka(a){var b=a.length,c=a.charAt(b-1);switch(c){case "+":case "-":for(var f=b-1;f>0&&a.charAt(f-1)===c;)--f;return(b-f&1)===1;case ".":if(b===1)return h;a=a.charAt(b-2);return!("0"<=a&&a<="9");case "/":return b===1;default:return/[#%&(*,:-?[^{-~]/.test(c)?h:(a=a.match(/[\w$]+$/))&&Ja[a[0]]===h}}
function La(a,b){if(a===b)return a;if(a===(b&~O|a&O))return a&~O|24576;var c=a&S;if(a===(b&~S|c)){var f=b&S;return a&~S|(c!==P&&f!==P&&c!==Q&&f!==Q?163840:Q)}c=a&E;f=b&E;if(c>f)var l=a,a=b,b=l,l=c,c=f,f=l;return c==s&&f==t?b:c===t&&(a&F)===(b&F)&&(f===w||(b&N)===I)?a:D}function Ma(a){(a&E)===6&&(a=Na(a&F,a&H,I));return a}function Na(a,b,c){var f,l=ea,G=ga;switch(b){case 1024:f=y;break;case aa:f=A;l=8192;break;case ba:f=z;break;case ca:f=C;G=32768;break;default:throw Error(b)}return f|a|b|c|l|G}
var Oa=function(){function a(a){return a.indexOf("&")<0?a:a.replace(/&(?:#(?:(x[\da-f]+)|(\d+))|(lt|gt|amp|quot|apos));/gi,function(a,za,b,d){return za||b?String.fromCharCode(0+(za||b)):fa[d.toLowerCase()]})}function b(a){this.pattern=a}function c(a,d,g){var c=a.prototype=new b(/(?!)/);c.constructor=a;c.d=d;if(g)c.h=g}function f(a,b){this.pattern=a;this.m=b}function l(a,b){this.pattern=a;this.n=b}function G(a){this.pattern=a}function L(a){this.pattern=a}function R(a){this.pattern=a}function J(a,b){this.pattern=
a;this.l=b}function k(a,b){this.pattern=a;this.state=b}function p(a,b){this.pattern=a;this.state=b}function X(a){this.pattern=a}function m(a){this.pattern=a}function r(a){this.pattern=a}function K(a){this.pattern=a}function B(a){this.pattern=a}function M(a){this.pattern=a}function g(a){this.pattern=a}function j(){this.next=this.a=0}var fa={r:"<",q:">",o:"&",s:'"',p:"'"};b.prototype.h=function(){return h};b.prototype.d=function(){throw Error()};c(f,function(){return this.m});c(l,function(){return t|
this.n});var e={};e[32]=A|8192;e[64]=z;e[224]=0;e[160]=1;e[96]=1;e[128]=1;e[192]=1;c(G,function(a){a&=F;var b=e[a];if(typeof b!=="number")throw Error(a);return b===1?b|a:b});c(L,function(a){return t|a&F});var q={action:h,archive:h,background:h,cite:h,classid:h,codebase:h,data:h,dsync:h,href:h,longdesc:h,src:h,usemap:h};c(R,function(a,b){var d=b[1].toLowerCase();return w|a&F|("on"===d.substring(0,2)?aa:"style"===d?ba:q[d]===h?ca:1024)});c(J,function(a){return Na(a&F,a&H,this.l)});c(k,function(a){return a&
~(S|E)|this.state});c(p,function(a){return a&(F|H|N)|this.state});c(X,function(a,b){switch(a&O){case 16384:return a&~(E|O)|A|8192;case 8192:return a&~(E|O)|21|ea;default:throw Error("Ambiguous / could be a RegExp or division.  Please add parentheses before `"+b[0]+"`")}});c(m,function(a,b){return a&~O|(Ka(b[0])?8192:16384)});c(r,function(a){return a});var d=new r(/$/),u=new b(/[#?]|$/);u.d=function(a,b){var d=a&S;d===32768&&(d=65536);if(d!==P){var g=b[0];"?"===g&&d!==Q?d=98304:"#"===g&&(d=P)}return a&
~S|d};c(K,function(){return t|224},function(a){return(a&H)===0});var v=new K(/<\/script\b/i),x=new K(/<\/style\b/i),n={96:"textarea",128:"title",160:"listing",192:"xmp"};c(B,function(){return t|224},function(a,b){return b[1].toLowerCase()===n[a&F]});c(M,function(a,b){var d=b[1];return a&~(E|S)|('"'===d?14:"'"===d?15:13)|32768});c(g,function(a){return a&~(E|O)|A|16384});var i=[];i[0]=[new r(/^[^<]+/),new f(/<\!--/,7),new l(/<script(?=[\s/>]|$)/i,32),new l(/<style(?=[\s/>]|$)/i,64),new l(/<textarea(?=[\s/>]|$)/i,
96),new l(/<title(?=[\s/>]|$)/i,128),new l(/<xmp(?=[\s/>]|$)/i,192),new f(/<\/?/,2)];i[2]=[new f(/^[a-z]+/i,s),new f(/^(?=[\W\d_])/,0)];i[s]=[new r(/^[\d:a-z-]*(?:[^\W_]|$)/i),new l(/^(?=[\s/>])/,224)];i[t]=[new R(/^\s*([a-z][\w-]*)/i),new G(/^\s*\/?>/),new r(/^\s+$/)];i[w]=[new k(/^\s*=/,6),new L(/^/)];i[6]=[new J(/^\s*"/,2048),new J(/^\s*'/,4096),new J(/^(?=[^\s"'>])/,I),new L(/^(?=>|\s+[\w-]+\s*=)/),new r(/^\s+/)];i[7]=[new f(/--\>/,0),d];i[y]=[d];i[z]=[new k(/\/\*/,10),new k(/"/,11),new k(/'/,
12),new M(/\burl\s*\(\s*(["']?)/i),x,d];i[10]=[new k(/\*\//,z),x,d];i[11]=[new k(/"/,z),new r(/\\(?:\r\n?|[\n\f"])/),new f(/[\n\f\r]/,D),x,d];i[12]=[new k(/'/,z),new r(/\\(?:\r\n?|[\n\f'])/),new f(/[\n\f\r]/,D),x,d];i[13]=[new k(/[\s)\\]/,z),u,new k(/["']/,D),x];i[15]=[new k(/'/,z),u,new r(/\\(?:\r\n?|[\n\f'])/),new f(/[\n\f\r]/,D),x];i[14]=[new k(/"/,z),u,new r(/\\(?:\r\n?|[\n\f"])/),new f(/[\n\f\r]/,D),x];i[A]=[new k(/\/\*/,18),new k(/\/\//,17),new p(/"/,19),new p(/'/,20),new X(/\//),new m(/(?:[^\s"'/<\\]|<(?!\/script))+/i),
new r(/\s+/),v];i[18]=[new k(/\*\//,A),v,d];i[17]=[new k(RegExp("[\r\n\u2028\u2029]"),A),v,d];i[19]=[new g(/"/),v,new r(RegExp('^(?:[^"\\\\\r\n\u2028\u2029<]|\\\\(?:\\r\\n?|[^\\r<]|<(?!/script))|<(?!/script))+',"i"))];i[20]=[new g(/'/),v,new r(RegExp("^(?:[^'\\\\\r\n\u2028\u2029<]|\\\\(?:\\r\\n?|[^\\r<]|<(?!/script))|<(?!/script))+","i"))];i[21]=[new g(/\//),v,new r(RegExp("^(?:[^\\[\\\\/<\r\n\u2028\u2029]|\\\\[^\r\n\u2028\u2029]|\\\\?<(?!/script)|\\[(?:[^\\]\\\\<\r\n\u2028\u2029]|\\\\(?:[^\r\n\u2028\u2029]))*|\\\\?<(?!/script)\\])+",
"i"))];i[C]=[u];i[1]=[new B(/<\/(\w+)\b/),d];j.prototype.j=function(a,b){if((b&E)===D)this.a=a.length,this.next=b;else{var d=2147483647,g=-1,c,j,f=i[b&E],e,q,u,v,x,fa=f.length;for(x=0;x<fa;++x)if(e=f[x],q=a.match(e.pattern))u=q.index,u<d&&(v=u+q[0].length,e.h(b,q)&&(d=u,g=v,c=e,j=q));c?(this.next=c.d(b,j),this.a=g):(this.next=D,this.a=a.length);if(this.a===0&&(this.next&E)===(b&E))throw Error(b)}};return function(b,d){for(;b;){var g;var c=b,e=d&N;g=c.length;e===da?g=-1:e===I?g=(c=c.match(/[\s>]/))?
c.index:g:(c=c.indexOf(ha[e]),g=c>=0?c:g);if(g===-1)g=new j,g.j(b,d),b=b.substring(g.a),d=g.next;else{for(var c=g<b.length?g+ha[d&N].length:-1,e=a(b.substring(0,g)),q=new j;e.length!==0;)q.j(e,d),e=e.substring(q.a),d=q.next;if(c!==-1)b=b.substring(c),d=t|d&F;else{if(g!==b.length)throw Error();b=""}}}return d}}();var Pa;Pa=typeof JSON!=="undefined"?function(a){return JSON.parse(JSON.stringify(a))}:function(a){for(var a=a.slice(),b=a.length;--b>=0;)typeof a[b]=="object"&&(a[b]=Pa(a[b]));return a};
$.templatePlugins.push(function(a){function b(a){if(typeof a==="object"){a.c=++X;for(var c=2,f=a.length;c<f;++c)b(a[c])}}function c(a){function b(a){function d(){}d.prototype=a;return new d}var c={},e;for(e in a)k.call(a,e)&&(c[e]=b(a[e]));return c}function f(a,b,f){var e=a.c;if(e in f.b)return f.b[e];var q=c(f);q.b[e]=b;var d=l(a,b,q);if(d!==b&&(q.b[e]=d,q=c(f),l(a,b,q)!==d))throw Error();var a=q,u;for(u in f)if(k.call(f,u)){var b=f[u],e=a[u],v;for(v in e)k.call(e,v)&&(b[v]=e[v])}return d}function l(a,
c,l){function e(a,d,c){if(typeof a==="string")return Oa(a,d);var g=2,j=a.length,n=d,i=a[0];if(i==="html")a[0]="=",a[1]="new SanitizedHtml("+a[1]+")",a.length=2,d=e(a,d,c);else if(i==="if"){for(var c=d,m=j;--m>=2;)if(i=a[m],"else"===i[0]){""===i[1]&&(c=null);break}for(;g<=j;++g)if(i=a[g],g===j||"else"===i[0]){if(c!==null&&(d=La(c,d),(d&E)===D))throw Error();c=d;d=n}else d=e(i,d,a);d=c}else if(i==="each")for(g=2;--g>=0;){j=d;a[0]="";try{m=e(a,d,c),d=La(j,m)}finally{a[0]="each"}if((d&E)===D)throw Error();
}else if(i==="tmpl"||i==="wrap"){if(c=G(a)){if(!/__C\d+$/.test(c)&&(n=d?c+"__C"+d:c,k.call(p,n)?n=p[n]:k.call(p,c)?(c=Pa(p[c]),c.i=n,b(c),n=p[n]=c):n=void 0,n))l.e[a.c]=n.i,d=f(n,d,l)}else throw Error();if("wrap"===a[0]){for(n=0;g<j;++g)n=e(a[g],n,a);if(n!==0)throw Error()}}else if(i==="="){d=Ma(d);g={};a:{d=Ma(d);j=V[d&E];switch(d&S){case 32768:j=13;d=d&~S|65536;break;case 98304:j=11;break;case ga:break;case P:case 65536:(d&H)!==ca&&(j=12);break;default:d=D;break a}if(j===void 0)d=D;else{n=null;
c=d&N;if(c!==da)switch(j){case T:break;case 2:c===I&&(j=3);break;case 3:break;default:U[j]||(n=c===I?3:2)}g.g=j;g.k=n}}if((d&E)===D)throw Error();if(!/^\s*(?:\$\.encode|noAutoescape)\b/.test(a[1])&&typeof g.g==="number"){j=[];j[0]=g.g;if(typeof g.k==="number")j[1]=g.k;l.f[a.c]=j}}else for(;g<j;)d=e(a[g++],d,a);return d}return e(a,c)}function G(a){return(a=a[1].match(/(?:^|\))\s*"#([^\s)]+)"\s*$/))&&a[1]}function L(a){var b=a[0];if(b==="tmpl"||b==="wrap")if((b=G(a))&&R(b))return h;for(b=a.length;--b>=
2;)if(L(a[b]))return h;return o}function R(a){if(k.call(B,a))return B[a];var b=p[a];if(b){for(var c=b.length;--c>=0;)if("noAutoescape"===b[c][0])return B[a]=o,B[a]=L(b);return B[a]=h}}function J(a){var b=a.c;switch(a[0]){case "noAutoescape":return M=o,"";case "=":if(M){var c=K.f[b];if(c){for(var e=a[1],b=0;b<c.length;++b)e="$.encode"+("["+c[b]+"]")+"("+e+")";a[1]=e}}break;case "tmpl":case "wrap":(b=K.e[b])&&(a[1]=a[1].replace(/\s*"#[^\s)]+"\s*$/,' "#'+b+'"'))}b=2;for(c=a.length;b<c;++b)e=a[b],typeof e!==
"string"&&(a[b]=J(e));return a}var k=Object.hasOwnProperty,p={},X=0,m;for(m in a)if(k.call(a,m)){var r=a[m];r.i=m;b(p[m]=r)}var K={f:{},e:{},b:{}},B={};for(m in p)k.call(p,m)&&R(m);for(m in B)h===B[m]&&f(p[m],0,K);var M;for(m in p)k.call(p,m)&&(M=h,J(p[m]));return p})}())
