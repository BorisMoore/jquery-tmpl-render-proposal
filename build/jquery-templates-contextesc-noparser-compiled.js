(function(){$.extAll=function(a){var b=arguments,c,e,j;for(c=1;c<b.length;++c)for(j in e=b[c])a[j]=e[j];return a};$.templatePlugins=[];$.templates={};$.template=function(a){return $.templates[a]};var r={2048:'"',4096:"'",6144:""};function s(){}s.prototype.toString=function(){return this.content};function t(){function a(a){this.content=a}var b=a.prototype=new s;b.constructor=a;b.contentKind=0;return a}var u=t(0),v=t(1),A=t(2);SanitizedHtml=u;SanitizedJsStrChars=v;SanitizedUri=A;function B(a){return a&&a.contentKind===0?a:a instanceof Array?a.map(B).join(""):a===void 0?"":C(a)}function D(a){return a&&a.contentKind===0?E(a.content):C(a)}
function F(a){return a&&a.contentKind===0?E(String(a.content).replace(G,"")):C(a)}function H(a){a&&a.contentKind===0?(a=String(a.content).replace(G,""),a=String(a),a=a.replace(I,J)):(a=String(a),a=a.replace(K,J));return a}function R(a){var a=String(a),a=!aa.test(a)?"zSafehtmlz":a,b,c=a.indexOf("=");return c>=0&&(b=a.charAt(a.length-1))!='"'&&b!="'"?a.substring(0,c+1)+'"'+a.substring(c+1)+'"':a}function ba(a){a=String(a);return a=!ca.test(a)?"zSafehtmlz":a}
function S(a){a&&a.contentKind===1?a=a.content:(a=String(a),a=a.replace(da,T));return a}function ea(a){var b;return a==null?" null ":(b=typeof a)=="boolean"||b=="number"?" "+a+" ":"'"+S(a)+"'"}function fa(a){a=String(a);return a=a.replace(ga,T)}var U=/['-)]/g;function V(a){return"%"+a.charCodeAt(0).toString(16)}function ha(a){if(a&&a.contentKind===2)return W(a);a=encodeURIComponent(a);return a.replace(U,V)}
function W(a){a=String(a);if(/[\0- "<>\\{}\x7f\x85\xa0\u2028\u2029\uff00-\uffff]|%(?![\da-f]{2})/i.test(a)){for(var a=a.split(/(%[\da-f]{2}|[#$&+,/:;=?@[\]])/i),b=a.length-1;b>=0;b-=2)a[b]=encodeURIComponent(a[b]);a=a.join("")}return a.replace(U,V)}function ia(a){var b=String(a);return ja.test(b)?W(a):"#zSafehtmlz"}function ka(a){a=String(a);return a=a.replace(la,ma)}function na(a){a==null?a="":(a=String(a),a=!oa.test(a)?"zSafehtmlz":a);return a}var X={'"':"&quot;","&":"&amp;","<":"&lt;",">":"&gt;"};
function J(a){return X[a]||(X[a]="&#"+a.charCodeAt(0)+";")}var Y={"\t":"\\t","\n":"\\n","\u000c":"\\f","\r":"\\r","/":"\\/","\\":"\\\\"};function T(a){var b;if(!(b=Y[a])){b=a.charCodeAt(0).toString(16);var c=b.length<=2?"\\x00":"\\u0000";b=c.substring(0,c.length-b.length)+b;b=Y[a]=b}return b}var Z={};function ma(a){return Z[a]||(Z[a]="\\"+a.charCodeAt(0).toString(16)+" ")}
var pa=/[\0"&'<>]/g,qa=/[\0"'<>]/g,K=/[\0\t-\r "&'/<->`\x85\xa0\u2028\u2029-]/g,I=/[\0\t-\r "'/<->`\x85\xa0\u2028\u2029-]/g,da=/[\0\b-\r"&'/<->\\\x85\u2028\u2029]/g,ga=/[\0\b-\r"$&-/:<-?[-^{-}\x85\u2028\u2029]/g,la=/[\0\b-\r"&-*/:->@\\{}\x85\xa0\u2028\u2029]/g,oa=/^(?!-*(?:expression|(?:moz-)?binding))(?:[#.]?-?\w[\w-]*(?:-[_a-z][\w-]*)*-?|-?(?:\d+(?:\.\d*)?|\.\d)(?:[a-z]{1,2}|%)?|!important|)$/i,ja=/^(?:(?:https?|mailto):|[^#&/:?]*(?:[#/?]|$))/i,aa=/^(?!style|on|action|archive|background|cite|classid|codebase|data|dsync|href|longdesc|src|usemap)(?:[\w$:-]*|dir=(?:ltr|rtl))$/i,
ca=/^(?!script|style|title|textarea|xmp|no)[\w$:-]*$/i;function C(a){a=String(a);return a.replace(pa,J)}function E(a){a=String(a);return a.replace(qa,J)}var G=/<(?:!|\/?[a-z])(?:[^"'>]|"[^"]*"|'[^']*')*>/gi,ra=[B,D,F,H,ba,R,S,ea,fa,ka,na,ha,W,ia];B[0]=$.encode=$.extend(B,ra);var sa={"break":1,"case":1,"continue":1,"delete":1,"do":1,"else":1,"finally":1,"instanceof":1,"return":1,"throw":1,"try":1,"typeof":1};function ta(a){var b=a.length,c=a.charAt(b-1);switch(c){case "+":case "-":for(var e=b-1;e>0&&a.charAt(e-1)===c;)--e;a=b-e;return(a&1)===1;case ".":if(b===1)return 1;a=a.charAt(b-2);return!("0"<=a&&a<="9");case "/":return b===1;default:return/[#%&(*,:-?[^{-~]/.test(c)?1:(a=a.match(/[\w$]+$/))&&sa[a[0]]===1}}
(function(){function a(a){return a.indexOf("&")<0?a:a.replace(/&(?:#(?:(x[\da-f]+)|(\d+))|(lt|gt|amp|quot|apos));/gi,function(a,k,b,c){return k||b?String.fromCharCode(0+(k||b)):ua[c.toLowerCase()]})}function b(a){this.a=a}function c(a,f,h){var c=a.prototype=new b(/(?!)/);c.constructor=a;c.c=f;if(h)c.e=h}function e(a,f){this.a=a;this.h=f}function j(a,f){this.a=a;this.i=f}function L(a){this.a=a}function w(a){this.a=a}function M(a){this.a=a}function o(a,f){this.a=a;this.g=f}function g(a,f){this.a=a;
this.d=f}function x(a,f){this.a=a;this.d=f}function N(a){this.a=a}function O(a){this.a=a}function i(a){this.a=a}function y(a){this.a=a}function P(a){this.a=a}function Q(a){this.a=a}function q(a){this.a=a}function z(){this.next=this.b=0}function va(k,f){for(;k;){var h;var b=k,c=f&6144;h=b.length;c===0?h=-1:c===6144?h=(b=b.match(/[\s>]/))?b.index:h:(b=b.indexOf(r[c]),h=b>=0?b:h);if(h===-1)h=new z,h.f(k,f),k=k.substring(h.b),f=h.next;else{for(var b=k.length,b=h<b?h+r[f&6144].length:-1,c=a(k.substring(0,
h)),d=new z;c.length;)d.f(c,f),c=c.substring(d.b),f=d.next;if(b!==-1)k=k.substring(b),f=4|f&224;else{if(h!==k.length)throw Error();k=""}}}return f}var ua={m:"<",l:">",j:"&",n:'"',k:"'"};b.prototype.e=function(){return 1};b.prototype.c=function(){throw Error()};c(e,function(){return this.h});c(j,function(){return 4|this.i});var wa={32:8208,64:9,224:0,160:1,96:1,128:1,192:1};c(L,function(a){a&=224;var b=wa[a];if(typeof b!=="number")throw Error(a);return b===1?b|a:b});c(w,function(a){return 4|a&224});
var xa={action:1,archive:1,background:1,cite:1,classid:1,codebase:1,data:1,dsync:1,href:1,longdesc:1,src:1,usemap:1};c(M,function(a,b){var c=b[1].toLowerCase(),c="on"===c.substring(0,2)?256:"style"===c?512:xa[c]===1?768:1024;return 5|a&224|c});c(o,function(a){var b=a&1792,c,d=0,e=0;switch(b){case 1024:c=8;break;case 256:c=16;d=8192;break;case 512:c=9;break;case 768:c=22;e=32768;break;default:throw Error(b)}return a=c|a&224|b|this.g|d|e});c(g,function(a){return a&-229408|this.d});c(x,function(a){return a&
8160|this.d});c(N,function(a,b){switch(a&24576){case 16384:return a&-24608|8208;case 8192:return a&-24608|21;default:throw Error("Ambiguous / could be a RegExp or division.  Please add parentheses before `"+b[0]+"`")}});c(O,function(a,b){return a&-24577|(ta(b[0])?8192:16384)});c(i,function(a){return a});var l=new i(/$/),p=new b(/[#?]|$/);p.c=function(a,b){var c=a&229376;c===32768&&(c=65536);if(c!==131072){var d=b[0];"?"===d&&c!==196608?c=98304:"#"===d&&(c=131072)}return a&-229377|c};c(y,function(){return 228},
function(a){return(a&1792)===0});var n=new y(/<\/script\b/i),m=new y(/<\/style\b/i),ya={96:"textarea",128:"title",160:"listing",192:"xmp"};c(P,function(){return 228},function(a,b){return b[1].toLowerCase()===ya[a&224]});c(Q,function(a,b){var c=b[1],c='"'===c?14:"'"===c?15:13;return a&-229408|c|32768});c(q,function(a){return a&-24608|16400});var d=[];d[0]=[new i(/^[^<]+/),new e(/<\!--/,7),new j(/<script(?=[\s/>]|$)/i,32),new j(/<style(?=[\s/>]|$)/i,64),new j(/<textarea(?=[\s/>]|$)/i,96),new j(/<title(?=[\s/>]|$)/i,
128),new j(/<xmp(?=[\s/>]|$)/i,192),new e(/<\/?/,2)];d[1]=[new P(/<\/(\w+)\b/),l];d[2]=[new e(/^[a-z]+/i,3),new e(/^(?=[\W\d_])/,0)];d[3]=[new i(/^[\d:a-z-]*(?:[^\W_]|$)/i),new j(/^(?=[\s/>])/,224)];d[4]=[new M(/^\s*([a-z][\w-]*)/i),new L(/^\s*\/?>/),new i(/^\s+$/)];d[5]=[new g(/^\s*=/,6),new w(/^/)];d[6]=[new o(/^\s*"/,2048),new o(/^\s*'/,4096),new o(/^(?=[^\s"'>])/,6144),new w(/^(?=>|\s+[\w-]+\s*=)/),new i(/^\s+/)];d[7]=[new e(/--\>/,0),l];d[8]=[l];d[9]=[new g(/\/\*/,10),new g(/"/,11),new g(/'/,
12),new Q(/\burl\s*\(\s*(["']?)/i),m,l];d[10]=[new g(/\*\//,9),m,l];d[11]=[new g(/"/,9),new i(/\\(?:\r\n?|[\n\f"])/),new e(/[\n\f\r]/,23),m,l];d[12]=[new g(/'/,9),new i(/\\(?:\r\n?|[\n\f'])/),new e(/[\n\f\r]/,23),m,l];d[13]=[new g(/[\s)\\]/,9),p,new g(/["']/,23),m];d[15]=[new g(/'/,9),p,new i(/\\(?:\r\n?|[\n\f'])/),new e(/[\n\f\r]/,23),m];d[14]=[new g(/"/,9),p,new i(/\\(?:\r\n?|[\n\f"])/),new e(/[\n\f\r]/,23),m];d[16]=[new g(/\/\*/,18),new g(/\/\//,17),new x(/"/,19),new x(/'/,20),new N(/\//),new O(/(?:[^\s"'/<\\]|<(?!\/script))+/i),
new i(/\s+/),n];d[18]=[new g(/\*\//,16),n,l];d[17]=[new g(/[\n\r\u2028\u2029]/,16),n,l];d[19]=[new q(/"/),n,new i(/^(?:[^\n\r"<\\\u2028\u2029]|\\(?:\r\n?|[^\r<]|<(?!\/script))|<(?!\/script))+/i)];d[20]=[new q(/'/),n,new i(/^(?:[^\n\r'<\\\u2028\u2029]|\\(?:\r\n?|[^\r<]|<(?!\/script))|<(?!\/script))+/i)];d[21]=[new q(/\//),n,new i(/^(?:[^\n\r/<[\\\u2028\u2029]|\\.|\\?<(?!\/script)|\[(?:[^\n\r<\\\]\u2028\u2029]|\\.)*|\\?<(?!\/script)])+/i)];d[22]=[p];z.prototype.f=function(a,b){if((b&31)===23)this.b=
a.length,this.next=b;else{var c=Infinity,e=-1,g,i,j=d[b&31],l,m,n,p,o,q=j.length;for(o=0;o<q;++o)if(l=j[o],m=a.match(l.a))n=m.index,n<c&&(p=n+m[0].length,l.e(b,m)&&(c=n,e=p,g=l,i=m));g?(this.next=g.c(b,i),this.b=e):(this.next=23,this.b=a.length);if(!this.b&&(this.next&31)===(b&31))throw Error(b)}};return va})()}())
