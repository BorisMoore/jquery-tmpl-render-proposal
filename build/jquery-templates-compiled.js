(function(){function k(a){return a&&a.contentKind===0?a:a instanceof Array?a.map(k).join(""):a===void 0?"":String(a).replace(m,o)}function p(a){var b;a==null?a=" null ":(b=typeof a)=="boolean"||b=="number"?a=" "+a+" ":(a=a&&a.contentKind===1?a.content:String(a).replace(q,r),a="'"+a+"'");return a}var s={'"':"&quot;","&":"&amp;","<":"&lt;",">":"&gt;"};function o(a){return s[a]||(s[a]="&#"+a.charCodeAt(0)+";")}var t={"\t":"\\t","\n":"\\n","\u000c":"\\f","\r":"\\r","/":"\\/","\\":"\\\\"};
function r(a){var c;var b;if(!(b=t[a])){b=a.charCodeAt(0).toString(16);var d=b.length<=2?"\\x00":"\\u0000";c=t[a]=d.substring(0,d.length-b.length)+b,b=c}return b}var m=/[\x00\x22\x26\x27\x3c\x3e]/g,q=/[\x00\x08-\x0d\x22\x26\x27\/\x3c-\x3e\\\x85\u2028\u2029]/g;escapeHtml=k;var x=1,y=0,z=RegExp("(?:[^${]|\\{(?!\\{/?[=a-z])|\\$(?!\\{))+|\\$\\{[^}]*\\}|\\{\\{(?:(?:=|[a-z][a-z0-9]*)[\\s\\S]*?|/(?:=|[a-z][a-z0-9]*)\\s*)\\}\\}","gi"),A=/^\s*(?:\(\s*([a-z_$]\w*)\s*(?:,\s*([a-z_$]\w*)\s*)?\)\s*)?(\S(?:[\s\S]*\S)?)\s*$/i,B=/^\s*(?:\(([\s\S]*)\)\s*)?([^\s()](?:[^()]*[^\s()])?)\s*$/,C="$index",D="$value",E="templates",F="tmpl",G={each:x,"if":x,wrap:x};function H(a){var b={};a.replace(z,function(a){(a=a.match(/^\{\{\/(=|[a-z][a-z0-9]*)[\s\S]*\}\}$/i))&&(b[a[1]]=x)});return b}
function I(a,b){var d=["",""],e=[d],c=d,l=0;$.each(a.replace(/\{#[\s\S]*?#\}/g,"").replace(/\{\{!?|\}\}|(?:[^{}]|\{(?!\{)|\}(?!}))+/g,function(a){return a==="{{!"?(++l,""):l?(a==="}}"?--l:a==="{{"&&++l,""):a}).match(z)||[],function(a,d){var n=d.match(/^\{\{(\/?)(=|[a-z][a-z0-9]*)([\s\S]*)\}\}$/i);if(n)if(n[1])c=e[--e.length-1];else{var i=[n[2],n[3]];c.push(i);b[n[2]]===x&&e.push(c=i)}else d.substring(0,2)==="${"?c.push(["=",d.substring(2,d.length-1)]):c.push(d)});return d};function J(a){var b=["var $$tmplVar0;$data=$.extend(Object.create?Object.create(null):{},$data||{});$item=$item||{};with($data){return("],d=[],e,c=0;$.each(a.slice(2),function u(a,i){e&&b.push("+");var j;if(typeof i==="string")b.push(p(i));else{var h=i[0],g=i[1];j=i.length;var f="$$tmplVar"+c;if(h==="="){e||b.push("''+");var l="",v="",g=g.replace(/(=>\w+)+$/,function(a){a=a.split("=>");v=Array(a.length).join(")");l=a.reverse().join("(");return""});b.push("(",f,"=(",g,"),",l,"'function'!==typeof ",
f,"?",f,":",f,".call(null,arguments))",v)}else if(h==="if"){e=x;for(f=2;;f=h+1){h=j;for(g=f;g<h;++g)i[g][0]==="else"&&(h=g);var g=f<j?(f===2?i:i[f-1])[1]:"",w=/\S/.test(g);b.push(e?"":"''",f===2?"((":"):(",g,w?")?(":"");e=y;$.each(i.slice(f,h),u);if(!w)break}b.push(e?"))":"''))")}else h==="each"?(j=g.match(A),h=j[1]||C,g=j[2]||D,j=j[3],++c,b.push("(",f,"=[],$.each((",j,"),function(",h,",",g,"){var ","$$tmplVar",c,";",f,".push("),e=y,d.push(h+":"+h,g+":"+g),$.each(i.slice(2),u),d.length-=2,e||b.push("''"),
b.push(")}),",f,".join(''))"),--c):h==="tmpl"&&(j=g.match(B),h=j[1],b.push("(",f,"=",h?"$.extend([],arguments,["+h+"])":d.length?"[$.extend({},$data,{"+d+"}),$item]":"arguments",",$.template((",j[2],")).tmpl(",f,"[0],",f,"[1]))"))}e=x});e||b.push("''");b.push(")}");try{return Function("$data","$item",b.join(""))}catch(l){throw l}};$.templatePlugins=[function(a){$.each(a,function d(a,c){typeof c!=="string"&&(c[0]==="="?c[1]+="=>escapeHtml":c[0]==="html"?c[0]="=":$.each(c,d))});return a}];function K(a){return(a=$[E][a])&&"function"!==typeof a[F]}
function M(a,b){function d(a){return function(b){var c;for(c=0;c<a;++c)b=$.templatePlugins[c](b,d(c));return b}}var e={};$.each(a,function L(b,c){e[b]!==x&&(e[b]=x,$.each(c,function(b,c){if(c[0]==="tmpl"||c[0]==="wrap"){var d=c[1].match(B);d&&(d=d[2],K(d)&&e[d]!==x&&L(d,a[d]=$[E][d]))}}))});var c;$.each(d($.templatePlugins.length)(a),function(a,d){var e={tmpl:J(d)};a!==b?$[E][a]=e:c=e});return c}$[E]={};
$.template=function N(b,d){var e=$[E],c;if(arguments.length===1){if(b.indexOf("<")+1)return N(null,b);K(b)&&(c={},c[b]=e[b],M(c));return e[b]}c=I(d,$.extend(H(d),G));if(b===null)return M({_:c},"_");e[b]=c}}())
